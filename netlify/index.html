<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            height: 100vh;
        }
        .container {
            display: flex;
            height: 100vh;
        }

        /* ì™¼ìª½ ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 240px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            z-index: 100;
            transition: width 0.3s ease;
        }
        .sidebar.collapsed {
            width: 60px;
        }
        .sidebar-header {
            padding: 20px 15px;
            background: rgba(0,0,0,0.1);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .sidebar-title {
            font-size: 1.3em;
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
        }
        .sidebar.collapsed .sidebar-title {
            display: none;
        }
        .toggle-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 1.2em;
            transition: background 0.2s;
        }
        .toggle-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .menu-section {
            padding: 10px 0;
        }
        .section-label {
            font-size: 0.75em;
            padding: 10px 15px 5px;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
            white-space: nowrap;
            overflow: hidden;
        }
        .sidebar.collapsed .section-label {
            display: none;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            color: white;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
            white-space: nowrap;
        }
        .menu-item:hover {
            background: rgba(255,255,255,0.1);
            border-left-color: white;
        }
        .menu-item.active {
            background: rgba(255,255,255,0.2);
            border-left-color: white;
        }
        .menu-icon {
            font-size: 1.3em;
            min-width: 30px;
            text-align: center;
        }
        .menu-text {
            margin-left: 12px;
            font-size: 0.9em;
            overflow: hidden;
        }
        .sidebar.collapsed .menu-text {
            display: none;
        }

        /* ì˜¤ë¥¸ìª½ ì»¨í…ì¸  ì˜ì—­ */
        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: #f5f5f5;
        }
        .content-header {
            background: white;
            padding: 15px 25px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-bottom: 1px solid #e0e0e0;
        }
        .content-title {
            font-size: 1.5em;
            color: #333;
            font-weight: 600;
        }
        .content-body {
            flex: 1;
            overflow: hidden;
            position: relative;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        /* ì›°ì»´ í™”ë©´ */
        .welcome-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 40px;
        }
        .welcome-content h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        .welcome-content p {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                height: 100vh;
                transform: translateX(-100%);
                z-index: 1000;
            }
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            .mobile-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                z-index: 999;
            }
            .mobile-overlay.active {
                display: block;
            }
            .mobile-menu-btn {
                position: fixed;
                top: 15px;
                left: 15px;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 15px;
                border-radius: 8px;
                cursor: pointer;
                z-index: 998;
                box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            }
        }
        @media (min-width: 769px) {
            .mobile-menu-btn,
            .mobile-overlay {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
    <div class="mobile-overlay" onclick="toggleMobileMenu()"></div>

    <div class="container">
        <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">ğŸ”¥ ê´€ë¦¬ì</div>
                <button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>
            </div>

            <div style="flex: 1; overflow-y: auto;">
                <!-- Firebase ê´€ë¦¬ -->
                <div class="menu-section">
                    <div class="section-label">Firebase</div>
                    <a class="menu-item" data-page="firebase-remote-config.html" data-title="Remote Config ê´€ë¦¬">
                        <div class="menu-icon">ğŸ”§</div>
                        <div class="menu-text">Remote Config</div>
                    </a>
                    <a class="menu-item" data-page="firebase-notification.html" data-title="í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡">
                        <div class="menu-icon">ğŸ“±</div>
                        <div class="menu-text">í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡</div>
                    </a>
                    <a class="menu-item" data-page="notifications.html" data-title="ì•Œë¦¼ ë‚´ì—­ ëª©ë¡">
                        <div class="menu-icon">ğŸ“‹</div>
                        <div class="menu-text">ì•Œë¦¼ ë‚´ì—­</div>
                    </a>
                </div>

                <!-- ì½˜í…ì¸  ê´€ë¦¬ -->
                <div class="menu-section">
                    <div class="section-label">ì½˜í…ì¸ </div>
                    <a class="menu-item" data-page="notice-board.html" data-title="ê³µì§€ì‚¬í•­ ê´€ë¦¬">
                        <div class="menu-icon">ğŸ“¢</div>
                        <div class="menu-text">ê³µì§€ì‚¬í•­</div>
                    </a>
                </div>

                <!-- ê´‘ê³  ì‹œìŠ¤í…œ -->
                <div class="menu-section">
                    <div class="section-label">ê´‘ê³  ì‹œìŠ¤í…œ</div>
                    <a class="menu-item" data-page="ad-partners.html" data-title="ê´‘ê³  ì œíœ´ì‚¬ ê´€ë¦¬">
                        <div class="menu-icon">ğŸ¢</div>
                        <div class="menu-text">ì œíœ´ì‚¬ ê´€ë¦¬</div>
                    </a>
                    <a class="menu-item" data-page="ad-post.html" data-title="ê´‘ê³  ìº í˜ì¸ ë“±ë¡">
                        <div class="menu-icon">ğŸ¯</div>
                        <div class="menu-text">ìº í˜ì¸ ë“±ë¡</div>
                    </a>
                    <a class="menu-item" data-page="ad-analytics.html" data-title="ê´‘ê³  ì„±ê³¼ ë¶„ì„">
                        <div class="menu-icon">ğŸ“Š</div>
                        <div class="menu-text">ì„±ê³¼ ë¶„ì„</div>
                    </a>
                    <a class="menu-item" data-page="ad-landing.html" data-title="ê´‘ê³  ëœë”© í˜ì´ì§€">
                        <div class="menu-icon">ğŸª</div>
                        <div class="menu-text">ëœë”© í˜ì´ì§€</div>
                    </a>
                </div>

                <!-- í•´ì–‘ê´€ì¸¡ì†Œ ê´€ë¦¬ -->
                <div class="menu-section">
                    <div class="section-label">í•´ì–‘ê´€ì¸¡ì†Œê´€ë¦¬</div>
                    <a class="menu-item" data-page="abs-fetch-log.html" data-title="KMA ë°ì´í„° ìˆ˜ì§‘ ë¡œê·¸">
                        <div class="menu-icon">ğŸŒŠ</div>
                        <div class="menu-text">ìˆ˜ì§‘ ë¡œê·¸</div>
                    </a>
                    <a class="menu-item" data-page="abs-fetch-log-coverage.html" data-title="KMA ë°ì´í„° ì»¤ë²„ë¦¬ì§€">
                        <div class="menu-icon">ğŸ“ˆ</div>
                        <div class="menu-text">ì»¤ë²„ë¦¬ì§€</div>
                    </a>
                    <a class="menu-item" data-page="station-matcher.html" data-title="ê´€ì¸¡ì†Œ ë§¤ì¹­ ë„êµ¬">
                        <div class="menu-icon">ğŸ—ºï¸</div>
                        <div class="menu-text">ê´€ì¸¡ì†Œ ë§¤ì¹­</div>
                    </a>
                    <a class="menu-item" data-page="tide-marine-station-matcher.html" data-title="ì¡°ì„-í•´ì–‘ ê´€ì¸¡ì†Œ ë§¤ì¹­">
                        <div class="menu-icon">ğŸ”—</div>
                        <div class="menu-text">ì¡°ì„-í•´ì–‘ ë§¤ì¹­</div>
                    </a>
                    <a class="menu-item" data-page="marine-station-analyzer.html" data-title="í•´ì–‘ê´€ì¸¡ì†Œ ë¶„ì„ê¸°">
                        <div class="menu-icon">ğŸ”¬</div>
                        <div class="menu-text">ê´€ì¸¡ì†Œ ë¶„ì„ê¸°</div>
                    </a>
                </div>

                <!-- ê°œë°œ ë„êµ¬ -->
                <div class="menu-section">
                    <div class="section-label">ê°œë°œ ë„êµ¬</div>
                    <a class="menu-item" data-page="api-validator.html" data-title="API ë°ì´í„° ê²€ì¦">
                        <div class="menu-icon">â›µ</div>
                        <div class="menu-text">API ê²€ì¦</div>
                    </a>
                    <a class="menu-item" data-page="run-migration.html" data-title="ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜">
                        <div class="menu-icon">ğŸš€</div>
                        <div class="menu-text">ë§ˆì´ê·¸ë ˆì´ì…˜</div>
                    </a>
                </div>
            </div>
        </aside>

        <!-- ì˜¤ë¥¸ìª½ ì»¨í…ì¸  ì˜ì—­ -->
        <main class="content">
            <div class="content-header">
                <h1 class="content-title" id="pageTitle">Firebase ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
            </div>
            <div class="content-body" id="contentBody">
                <div class="welcome-screen">
                    <div class="welcome-content">
                        <h1>ğŸ”¥ í™˜ì˜í•©ë‹ˆë‹¤</h1>
                        <p>Firebase ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</p>
                        <p>ì™¼ìª½ ë©”ë‰´ì—ì„œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ë¡œê·¸ì¸ ì²´í¬
        const adminSecret = sessionStorage.getItem('adminSecret');
        if (!adminSecret) {
            window.location.href = 'admin-login.html';
        }

        // ì‚¬ì´ë“œë°” í† ê¸€
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('collapsed');
        }

        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.mobile-overlay');
            sidebar.classList.toggle('mobile-open');
            overlay.classList.toggle('active');
        }

        // í˜ì´ì§€ ë¡œë“œ
        function loadPage(page, title) {
            const contentBody = document.getElementById('contentBody');
            const pageTitle = document.getElementById('pageTitle');

            // íƒ€ì´í‹€ ì—…ë°ì´íŠ¸
            pageTitle.textContent = title;
            document.title = title + ' - Firebase ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ';

            // iframe ìƒì„± ë° ë¡œë“œ
            contentBody.innerHTML = `<iframe src="${page}" title="${title}"></iframe>`;

            // URL ì—…ë°ì´íŠ¸ (íˆìŠ¤í† ë¦¬)
            history.pushState({ page, title }, title, `?page=${page}`);

            // ëª¨ë°”ì¼ì—ì„œ ë©”ë‰´ ë‹«ê¸°
            if (window.innerWidth <= 768) {
                toggleMobileMenu();
            }
        }

        // ë©”ë‰´ ì•„ì´í…œ í´ë¦­ ì´ë²¤íŠ¸
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();

                // í™œì„±í™” ìƒíƒœ ë³€ê²½
                document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                // í˜ì´ì§€ ë¡œë“œ
                const page = this.getAttribute('data-page');
                const title = this.getAttribute('data-title');
                loadPage(page, title);
            });
        });

        // ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸°/ì•ìœ¼ë¡œê°€ê¸° ì²˜ë¦¬
        window.addEventListener('popstate', function(e) {
            if (e.state && e.state.page) {
                const contentBody = document.getElementById('contentBody');
                const pageTitle = document.getElementById('pageTitle');

                pageTitle.textContent = e.state.title;
                document.title = e.state.title + ' - Firebase ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ';
                contentBody.innerHTML = `<iframe src="${e.state.page}" title="${e.state.title}"></iframe>`;

                // ë©”ë‰´ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
                document.querySelectorAll('.menu-item').forEach(item => {
                    if (item.getAttribute('data-page') === e.state.page) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }
        });

        // URL íŒŒë¼ë¯¸í„°ë¡œ í˜ì´ì§€ ë¡œë“œ
        window.addEventListener('load', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const page = urlParams.get('page');

            if (page) {
                const menuItem = document.querySelector(`.menu-item[data-page="${page}"]`);
                if (menuItem) {
                    menuItem.click();
                }
            }
        });
    </script>
</body>
</html>
